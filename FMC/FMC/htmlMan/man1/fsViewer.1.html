<HTML>
<BODY>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->
<B><A HREF="../../htmlMan/man1/fsViewer.1.html">fsViewer(1)</A></B>                    FMC User Commands                   <B><A HREF="../../htmlMan/man1/fsViewer.1.html">fsViewer(1)</A></B>


</PRE>
<H2>NAME</H2><PRE>
       <B>fsViewer</B> <B>-</B> Get filesystem space usage from the DIM File System Monitor
                  Servers


</PRE>
<H2>SYNOPSIS</H2><PRE>
       <B>fsViewer</B> [<B>-v</B> | <B>--debug</B>] [<B>-N</B> | <B>--dim-dns</B> <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I>]
                [<B>-m</B> | <B>--hostname</B> <I>NODE</I><B>_</B><I>PATTERN...</I>]  [<B>-c</B> | <B>--compact</B>]
                [<B>-H</B> | <B>--header</B>] [<B>-a</B> | <B>--advanced</B>] [<B>-K</B> | <B>--KiB</B>] [<B>-M</B> | <B>--MiB</B>]
                [<B>-G</B> | <B>--GiB</B>] [<B>-T</B> | <B>--TiB</B>]

       <B>fsViewer</B> { <B>-V</B> | <B>--version</B> } [<B>-v</B> | <B>--debug</B>]
                [<B>-N</B> | <B>--dim-dns</B> <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I>]
                [<B>-m</B> | <B>--hostname</B> <I>NODE</I><B>_</B><I>PATTERN...</I>]

       <B>fsViewer</B> { <B>-h</B> | <B>--help</B> }


</PRE>
<H2>DESCRIPTION</H2><PRE>
       Get  the <B>space</B> <B>usage</B> of the <B>filesystems</B> mounted on the farm nodes whose
       hostname matches at least one of the  wildcard  patterns  <I>NODE</I><B>_</B><I>PATTERN</I>,
       specified  using  the <B>-m</B> <I>NODE</I><B>_</B><I>PATTERN</I> command line option (<B>default</B>: all
       the nodes registered with the DIM name server <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I>).

       Values are expressed in KiB (kibiBytes, 1 KiB=1024 Bytes), unless  com-
       mand-line switches <B>-M</B>, <B>-G</B> or <B>-T</B> are specified.

       Usage information provided includes, in <B>standard</B> <B>mode</B> (omitting <B>-a</B> com-
       mand-line switch), the following 8 fields (the same of the  <B><A HREF="../../htmlMan/man1/df.1.html">df(1)</A></B>  com-
       mand):

       <B>Id</B>     Filesystem identifier (fs_00, fs_01, ...).

       <B>Filesystem</B>
              Filesystem device name (e.g.: /dev/hda1, /dev/sda1, etc.).

       <B>Type</B>   Filesystem type (ext3, ntfs, nfs, afs, gpfs, etc.).

       <B>1Ki-blocks</B>
              Total  size  of  the  filesystem  space  accessible  to the user
              "root".

       <B>Used</B>   Size of the used filesystem space.

       <B>Available</B>
              Size of the filesystem space available to non-privileged  users.

       <B>Use%</B>   Used   percentage  of  the total filesystem size accessible by a
              non-privileged user (=Used*100/TotalUser).

       <B>Mounted</B> <B>on</B>
              Filesystem mount-point (e.g.: /, /boot, /home, etc.).

       In <B>advanced</B> <B>mode</B> (specifying the <B>-a</B> command-line switch) the  following
       14 fields are provided:

       <B>Id</B>     Filesystem identifier (fs_00, fs_01, ...).

       <B>Filesystem</B>
              Filesystem device name (e.g.: /dev/hda1, /dev/sda1, etc.).

       <B>Type</B>   Filesystem type (ext3, ntfs, nfs, afs, gpfs, etc.).

       <B>Minfree</B>
              The  size  of  the filesystem space available to the user "root"
              but unavailable to any  non-privileged  users  (=TotalRoot-Used-
              AvailUser).

       <B>TotalRoot</B>
              Total  size  of  the  filesystem  space  accessible  to the user
              "root".

       <B>TotalUser</B>
              Total size of the filesystem space accessible to  non-privileged
              users (=Used+AvailUser).

       <B>Used</B>   Size of the used filesystem space.

       <B>AvailRoot</B>
              Size  of  the  filesystem  space  available  to  the user "root"
              (=TotalRoot-Used).

       <B>AvailUser</B>
              Size of the filesystem space available to non-privileged  users.

       <B>UseR%</B>  Used   percentage of the total filesystem size accessible by the
              user "root" (=Used*100/TotalRoot).

       <B>UseU%</B>  Used  percentage of the total filesystem size  accessible  by  a
              non-privileged user (=Used*100/TotalUser).

       <B>Mounted</B> <B>on</B>
              Filesystem mount-point (e.g.: /, /boot, /home, etc.).

       <B>Last</B> <B>update</B>
              The   time   corresponding   to  the  last  data  access  (e.g.:
              Nov07-122230).

       <B>Status</B> The filesystem status at the last data access. Can be:
              "<B>OK</B>";
              "<B>STALLED</B> <B>since</B> <B>&lt;N&gt;</B> <B>s</B>";
              "<B>ERROR:</B> <B>&lt;error</B> <B>message&gt;</B>".

       The DIM Name Server <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I>, looked up to seek for FMC CPU  Infor-
       mation Servers, can be chosen (in decreasing order of priority) by:

              1. Specifying the <B>-N</B> <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I> command-line option;

              2. Specifying the <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I> <B>environment</B> <B>variable</B>;

              3. Defining the <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I> in the file "<B>/etc/sysconfig/dim</B>".


</PRE>
<H2>OPTIONS</H2><PRE>
   <B>General</B> <B>Options</B>
       <B>-h</B> <B>--help</B>
              Get basic usage help from the command line, then terminate.

       <B>-v</B> <B>--debug</B>
              Increase verbosity for debugging.

       <B>-N</B> <B>--dim-dns</B> <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I> <I>(string)</I>
              Use <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I> as DIM Name Server node.

       <B>-m</B> <B>--hostname</B> <I>NODE</I><B>_</B><I>PATTERN</I> <I>(string,</I> <I>repeatable)</I>
              Print  only  the  filesystem space usage information of the farm
              nodes whose hostname matches at least one of the  wildcard  pat-
              terns  <I>NODE</I><B>_</B><I>PATTERN</I>  (<B>default</B>:  print the filesystem space usage
              information of all the nodes registered with the DIM name server
              <I>DIM</I><B>_</B><I>DNS</I><B>_</B><I>NODE</I>).

       <B>-V</B> <B>--version</B>
              For each selected node print the FMC Process Monitor Server ver-
              sion and the FMC version, than terminate.

       <B>-c</B> <B>--compact</B>
              Print the filesystem space usage information in  compact  format
              (easier to parse): one filesystem per line, no labels, no units,
              no separator lines.

       <B>-H</B> <B>--header</B>
              If the compact output format has been choosen, print  a  heading
              line with the output field labels.

   <B>Data</B> <B>Presentation</B> <B>Options</B>
       <B>-a</B> <B>--advanced</B>
              Advanced 14-field printout (see above).

       <B>-K</B> <B>--KiB</B>
              Express values in KiB (kibiBytes, 1 KiB=1024 B)

       <B>-M</B> <B>--MiB</B>
              Express values in MiB (mebiBytes, 1 MiB=1048576 B)

       <B>-G</B> <B>--GiB</B>
              Express values in GiB (gibiBytes, 1 GiB=1073741824 B)

       <B>-T</B> <B>--TiB</B>
              Express values in TiB (tebiBytes, 1 TiB=1099511627776 B)


</PRE>
<H2>ENVIRONMENT</H2><PRE>
       <B>DIM_DNS_NODE</B> (string, mandatory if not defined otherwise, see above)
              Host name of the node which is running the DIM DNS.

       <B>LD_LIBRARY_PATH</B> (string, mandatory if not set using ldconfig)
              Must  include  the  path to the libraries "libdim" and "libFMCu-
              tils".


</PRE>
<H2>EXAMPLES</H2><PRE>
       Standard printout:

       <I>bash$</I> <B>fsViewer</B>

       Advanced printout:

       <I>bash$</I> <B>fsViewer</B> <B>-a</B>
       <I>bash$</I> <B>fsViewer</B> <B>--advanced</B>
       <I>bash$</I> <B>fsViewer</B> <B>--adv</B>

       Print output in compact format with header:

       <I>bash$</I> <B>fsViewer</B> <B>-acH</B>
       <I>bash$</I> <B>fsViewer</B> <B>-a</B> <B>-c</B> <B>-H</B>
       <I>bash$</I> <B>fsViewer</B> <B>--adv</B> <B>--compact</B> <B>--header</B>
       <I>bash$</I> <B>fsViewer</B> <B>--a</B> <B>--co</B> <B>--hea</B>

       Show only filesystems mounted on selected nodes:

       <I>bash$</I> <B>fsViewer</B> <B>-m</B> <B>farm0101</B> <B>-m</B> <B>farm0102</B> <B>--adv</B>

       Show only filesystems mounted on wildcard-selected nodes:

       <I>bash$</I> <B>fsViewer</B> <B>-m</B> <B>"farm01*"</B> <B>-m</B> <B>"farm02*"</B> <B>--adv</B>
       <I>bash$</I> <B>fsViewer</B> <B>-m</B> <B>"farm010[1357]"</B> <B>--adv</B>

       Show the server version installed on the farm nodes:

       <I>bash$</I> <B>fsViewer</B> <B>-V</B>
       <I>bash$</I> <B>fsViewer</B> <B>--version</B>


</PRE>
<H2>AVAILABILITY</H2><PRE>
       Information on how to get the FMC (Farm Monitoring and Control  System)
       package and related information is available at the web sites:

       FMC  Linux  Development Homepage &lt;https://lhcbweb.bo.infn.it/twiki/bin/
       view.cgi/LHCbBologna/FmcLinux&gt;.

       CERN ITCOBE: FW Farm Monitor  and  Control  &lt;http://itcobe.web.cern.ch/
       itcobe/Projects/Framework/Download/Components/SystemOverview/fwFMC/wel-
       come.html&gt;.

       LHCb Online RPMs &lt;http://lhcb-daq.web.cern.ch/lhcb-daq/online-rpm-repo/
       index.html&gt;.


</PRE>
<H2>AUTHORS</H2><PRE>
       Domenico Galli &lt;domenico.galli@bo.infn.it&gt;


</PRE>
<H2>VERSION</H2><PRE>
       Source:  fsViewer.C,v 2.6 2012/11/29 15:52:27 galli
       Package: FMC-3.9.14


</PRE>
<H2>SEE ALSO:</H2><PRE>
       <B><A HREF="../../htmlMan/man8/fsSrv.8.html">fsSrv(8)</A></B>.
       <B><A HREF="../../htmlMan/man3/setmntent.3.html">setmntent(3)</A></B>, <B><A HREF="../../htmlMan/man3/getmntent_r.3.html">getmntent_r(3)</A></B>, <B><A HREF="../../htmlMan/man3/endmntent.3.html">endmntent(3)</A></B>, <B><A HREF="../../htmlMan/man2/statfs.2.html">statfs(2)</A></B>,
       <B><A HREF="../../htmlMan/man1/df.1.html">df(1)</A></B>, <B><A HREF="../../htmlMan/man5/fs.5.html">fs(5)</A></B>, <B><A HREF="../../htmlMan/man5/fstab.5.html">fstab(5)</A></B>.

FMC-3.9.14                        2012-12-19                       <B><A HREF="../../htmlMan/man1/fsViewer.1.html">fsViewer(1)</A></B>
</PRE>
<HR>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
